<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="author" content="Elie Genard">
        <meta name="description" content="Personal website of Elie Genard, presenting projects and work.">

        <title>Elie Genard - Personal Website</title>
        <link rel="stylesheet" type="text/css" href="../../../css/main.css" />
        

        

        <!-- Make the page mobile compatible -->
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="format-detection" content="telephone=no">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="../../../images/favicons/favicon32.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../images/favicons/favicon144.png"><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../images/favicons/favicon114.png"><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../images/favicons/favicon72.png"><link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../images/favicons/favicon57.png">

        <!-- Facebook Open Graph Data -->
        <meta property="og:image" content="/images/og.png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="1200">
        <meta property="og:description" content="Personal website of Elie Genard">
        <meta property="og:title" content="elaye.github.io">

        <!-- Twitter -->
        <meta name="twitter:title" content="elaye.github.io">

    </head>
    <body id="nav">
        <header>
            <div id="logo">
                <a href="../../../">
                    <svg version="1.1" baseProfile="full" width="40" height="40" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="16" fill="transparent" stroke="black" stroke-width="4"></circle>
                    </svg>
                </a>
            </div>
            <nav>
                <a href="../../../">Projects</a>
                <a href="../../../work.html">Work</a>
                <a href="../../../about.html">About</a>
                <a href="#nav" class="menu menu-open">MENU</a>
                <a href="#" class="menu">X</a>
            </nav>
        </header>

        <main role="main">
            <article>
    <div class="info">
        <h1>Particle system & compute shaders</h1>
        Posted on October 27, 2014
        <br>
        <p class="notes">
            The code for the particle system is available <a href="https://github.com/elaye/particleSystemCS" target="_blank">here <i class="fa fa-github"></i></a> (oF v0.9.0 or superior)
        
        </p>
    </div>
    <p>After playing a little with a particle system during the <a href="../2014-09-31-interactive-diabolo">interactive diabolo project</a> I wanted to make a bigger one.
The one for the diabolo project had 100 000 particles and adding more particles resulted in a big performance decrease.</p>

<p>The problem is that the new positon of each particle is computed and sent to the graphic card every frame.
The solution is to store and compute the movements of the particles on the GPU to avoid costly memory transfers.
With this comes a great benefit: the calculations are made in parallel on the GPU.</p>

<p>There are several ways to compute particle movements on the GPU.
The old one is to store the acceleration, speed and position of the particles in a texture and to use a shader to compute the new positions.
Newer methods to do general computing on the GPU principally use OpenCL or OpenGL's compute shader capability.
I chose to use compute shaders as they are easier to use with openFrameworks (v0.9.0) and you don't need to install additional libraries.
Furthermore, the particles are directly available in the vertex and fragment shader for rendering.</p>

<p>The images below show 1 million particles interacting with one (hidden) attractor at 30fps on a NVIDIA GeForce GT 525M:</p>

<picture>
    <source srcset="./images/screenshot_1-desktop.jpg 1280w" media="(min-width: 1024px)"></source>
    <source srcset="./images/screenshot_1-tablet.jpg 640w" media="(min-width: 540px)"></source>
    <img src="./images/screenshot_1-mobile.jpg" alt="Particle system screenshot 1" />
</picture>

<picture>
    <source srcset="./images/screenshot_2-desktop.jpg 1280w" media="(min-width: 1024px)"></source>
    <source srcset="./images/screenshot_2-tablet.jpg 640w" media="(min-width: 540px)"></source>
    <img src="./images/screenshot_2-mobile.jpg" alt="Particle system screenshot 2" />
</picture>

<picture>
    <source srcset="./images/screenshot_3-desktop.jpg 1280w" media="(min-width: 1024px)"></source>
    <source srcset="./images/screenshot_3-tablet.jpg 640w" media="(min-width: 540px)"></source>
    <img src="./images/screenshot_3-mobile.jpg" alt="Particle system screenshot 3" />
</picture>


</article>

        </main>
        <footer>
            <a href="//github.com/elaye" target="_blank"><img src="../../../images/networks/github.svg" alt="Github logo" /></a>
            <a href="//twitter.com/ElieGenard" target="_blank"><img src="../../../images/networks/twitter.svg" alt="Twitter logo" /></a>
        </footer>
    </body>
</html>
